language: python
matrix:
  include:
    - os: linux
      dist: trusty
      python: 2.7
    - os: linux
      dist: trusty
      python: 3.5
    - os: linux
      dist: precise
      python: 2.7
    - os: linux
      dist: precise
      python: 3.5
#    - os: linux
#      dist: precise
#      python: pypy
#    - os: linux
#      dist: precise
#      python: pypy3
install: "pip install coverage"
script: python setup.py build && coverage run tests.py && coverage annotate tests.py
cache:
  directories:
    - $HOME/.cache/pip
  timeout: 300000
